(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{448:function(e,t,o){e.exports={profileInfoBlock:"ProfileInfo_profileInfoBlock__32KEh",mainPhoto:"ProfileInfo_mainPhoto__1-qw1",uploadImageButton:"ProfileInfo_uploadImageButton__2oJKA",profileInfo:"ProfileInfo_profileInfo__SBRv9",button:"ProfileInfo_button__ThD7_",doubleClickDirection:"ProfileInfo_doubleClickDirection__2TCxP",onDoubleClickStatus:"ProfileInfo_onDoubleClickStatus__2uXjc",contacts:"ProfileInfo_contacts__2yYTi"}},455:function(e,t,o){e.exports={profileDataForm:"ProfileDataForm_profileDataForm__pWK4H",button:"ProfileDataForm_button__2Byhc",contact:"ProfileDataForm_contact__Ilc8I",contacts:"ProfileDataForm_contacts__296m8"}},456:function(e,t,o){e.exports={postsBlock:"MyPosts_postsBlock__17Zph",posts:"MyPosts_posts__3-KB6"}},457:function(e,t,o){e.exports={post:"Post_post__1IpN2",likes:"Post_likes__3jNMT"}},458:function(e,t,o){e.exports={profileBlock:"Profile_profileBlock__3dOJZ"}},478:function(e,t,o){"use strict";o.r(t);var s=o(5),n=o(22),c=o(23),a=o(31),i=o(32),r=o(0),l=o.n(r),u=o(30),j=o(12),d=o(448),b=o.n(d),f=o(136),p=o(61),O=o(441),h=o(2),v=["updateStatusTC"];function x(e){var t=e.updateStatusTC,o=Object(p.a)(e,v),s=Object(r.useState)(!1),n=Object(j.a)(s,2),c=n[0],a=n[1],i=Object(r.useState)(o.status),l=Object(j.a)(i,2),u=l[0],d=l[1];Object(r.useEffect)((function(){d(o.status)}),[o.status]);return Object(h.jsxs)(h.Fragment,{children:[!c&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:b.a.doubleClickDirection,children:"Double click to edit status"}),Object(h.jsx)("span",{className:b.a.onDoubleClickStatus,onDoubleClick:function(){a(!0)},children:u||"---"})]}),c&&Object(h.jsx)("div",{children:Object(h.jsx)(O.a,{autoFocus:!0,onBlur:function(){a(!1),t(u)},value:u,onChange:function(e){d(e.currentTarget.value)}})})]})}var m=o(437),g=o(476),_=o(25),k=o(15),C=o.n(k),P=o(455),T=o.n(P),I=o(51),y=o(439),N=o(479),S=o(477),D=function(e){var t=e.profile,o=e.setEditMode,n=Object(I.e)({defaultValues:{fullName:null===t||void 0===t?void 0:t.fullName,lookingForAJob:null===t||void 0===t?void 0:t.lookingForAJob,lookingForAJobDescription:null===t||void 0===t?void 0:t.lookingForAJobDescription,aboutMe:null===t||void 0===t?void 0:t.aboutMe}}),c=n.handleSubmit,a=n.control,i=Object(u.c)(),r=function(){var e=Object(_.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submit"),o(!1),e.next=4,i(Object(f.f)(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:T.a.profileDataForm,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:T.a.button,children:Object(h.jsx)(y.a,{variant:"contained",onClick:c(r),children:"Save"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Full Name"}),Object(h.jsx)(I.a,{name:"fullName",control:a,render:function(e){var t=e.field;return Object(h.jsx)(O.a,Object(s.a)({},t))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Looking for a job"}),Object(h.jsx)(I.a,{name:"lookingForAJob",control:a,render:function(e){var t=e.field;return Object(h.jsx)(N.a,Object(s.a)({},t))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"My professional skills"}),Object(h.jsx)(I.a,{name:"lookingForAJobDescription",control:a,render:function(e){var t=e.field;return Object(h.jsx)(S.a,Object(s.a)({},t))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"About me"}),Object(h.jsx)(I.a,{name:"aboutMe",control:a,render:function(e){var t=e.field;return Object(h.jsx)(S.a,Object(s.a)({},t))}})]}),Object(h.jsxs)("div",{className:T.a.contacts,children:[Object(h.jsx)("label",{children:"Contacts"}),": ",(null===t||void 0===t?void 0:t.contacts)&&Object.keys(null===t||void 0===t?void 0:t.contacts).map((function(e){return Object(h.jsx)("div",{className:T.a.contacts,children:Object(h.jsxs)("b",{children:[e," : ",Object(h.jsx)(I.a,{name:e,control:a,render:function(e){var t=e.field;return Object(h.jsx)(O.a,Object(s.a)({},t))}})]})})}))]})]})})},F=function(e){var t=e.profile,o=e.isOwner,s=e.goToEditMode;return Object(h.jsxs)("div",{className:b.a.profileInfo,children:[o&&Object(h.jsx)("div",{className:b.a.button,children:Object(h.jsx)(m.a,{onClick:s,variant:"contained",children:"Edit"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),": ",null===t||void 0===t?void 0:t.fullName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"})," : ",null!==t&&void 0!==t&&t.lookingForAJob?"yes":"no"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),": ",null===t||void 0===t?void 0:t.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),": ",null===t||void 0===t?void 0:t.aboutMe]}),Object(h.jsxs)("div",{className:b.a.contacts,children:[Object(h.jsx)("b",{children:"Contacts:"})," ",(null===t||void 0===t?void 0:t.contacts)&&Object.entries(null===t||void 0===t?void 0:t.contacts).map((function(e){return e[0]&&Object(h.jsx)(A,{contactTitle:e[0],contactValue:e[1]},e[0])}))]})]})},w=function(e){var t,o=e.profile,s=e.updateStatusTC,n=e.status,c=e.isOwner,a=(e.saveProfileTC,Object(u.c)()),i=Object(r.useState)(!1),l=Object(j.a)(i,2),d=l[0],p=l[1],O=Object(r.useRef)(null);return Object(h.jsx)(h.Fragment,{children:o&&Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:b.a.profileInfoBlock,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:b.a.mainPhoto,alt:"avatar",src:(null===(t=o.photos)||void 0===t?void 0:t.large)||"https://www.nicepng.com/png/detail/914-9142519_doge-meme-dog-doggo-funny-sticker-momo-png.png"}),c&&Object(h.jsxs)("div",{className:b.a.uploadImageButton,children:[Object(h.jsx)("input",{ref:O,type:"file",accept:".image/jpeg, .png, .jpg",onChange:function(e){var t;(t=e.target).files&&t.files.length&&a(Object(f.e)(t.files[0]))},style:{display:"none"}}),Object(h.jsx)(m.a,{color:"secondary",endIcon:Object(h.jsx)(g.a,{}),size:"small",className:b.a.downloadButton,onClick:function(){return O.current&&O.current.click()},children:Object(h.jsx)("span",{children:"Change avatar "})})]}),d?Object(h.jsx)(D,{profile:o,setEditMode:p}):Object(h.jsx)(F,{profile:o,isOwner:c,goToEditMode:function(){p(!0)}}),Object(h.jsx)(x,{status:n,updateStatusTC:s})]})})})})},A=function(e){var t=e.contactTitle,o=e.contactValue;return Object(h.jsxs)("div",{className:b.a.contact,children:[Object(h.jsx)("label",{children:t})," : ",o]})},B=o(456),M=o.n(B),J=o(457),E=o.n(J),U=function(e){return Object(h.jsxs)("div",{className:E.a.post,children:[Object(h.jsx)("img",{alt:"ava",src:"https://i.pinimg.com/originals/f1/08/a3/f108a3f0a39c70b8f7e56c642edb9327.png"}),e.message,Object(h.jsx)("div",{children:Object(h.jsxs)("span",{className:E.a.likes,children:["likes: ",e.likesCount]})})]})},K=o(440),q=o(425),z=o(142),R=o(84),V=function(e){var t=e.addPostAC,o=R.b().shape({post_area:R.c().required("Required")}),n=Object(I.e)({resolver:Object(z.a)(o)}),c=n.handleSubmit,a=n.control,i=n.formState,l=i.errors,u=i.isSubmitSuccessful,j=n.reset;Object(r.useEffect)((function(){j({post_area:""})}),[u,j]);return Object(h.jsx)("div",{children:Object(h.jsxs)(K.a,{style:{maxWidth:"300px",display:"flex",alignItems:"center"},children:[Object(h.jsx)(I.a,{name:"post_area",control:a,render:function(e){var t=e.field;return Object(h.jsx)(q.a,Object(s.a)(Object(s.a)({},t),{},{label:"Type your post here",type:"text",margin:"normal",error:!!l.post_area}))}}),Object(h.jsx)(y.a,{style:{width:"50%"},variant:"contained",onClick:c((function(e){t(e.post_area)})),children:"Add post"})]})})},L=o(60),W=Object(L.compose)(Object(u.b)((function(e){return{posts:e.profilePage.posts}}),{addPostAC:f.a}))((function(e){var t=e.posts,o=e.addPostAC,s=t.map((function(e){return Object(h.jsx)(U,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(h.jsxs)("div",{className:M.a.postsBlock,children:[Object(h.jsx)("h2",{children:"My posts"}),Object(h.jsx)(V,{addPostAC:o}),Object(h.jsx)("div",{className:M.a.posts,children:s})]})})),Z=o(458),H=o.n(Z),X=function(e){var t=e.profile,o=e.status,s=e.updateStatusTC,n=e.isOwner,c=e.savePhotoTC,a=e.saveProfileTC;return Object(h.jsxs)("div",{className:H.a.profileBlock,children:[Object(h.jsx)(w,{isOwner:n,profile:t,status:o,updateStatusTC:s,savePhotoTC:c,saveProfileTC:a}),Object(h.jsx)(W,{})]})},Y=o(28),G=o(141),Q=function(e){Object(a.a)(o,e);var t=Object(i.a)(o);function o(){return Object(n.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=String(this.props.authorizedUserId))||this.props.history.push("/login"),this.props.getUserProfileTC(e),this.props.getStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(X,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,savePhotoTC:this.props.savePhotoTC,saveProfileTC:this.props.saveProfileTC}))})}}]),o}(l.a.Component);t.default=Object(L.compose)(Object(u.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getUserProfileTC:f.c,getStatusTC:f.b,updateStatusTC:f.g,savePhotoTC:f.e,saveProfileTC:f.f}),Y.g,G.a)(Q)}}]);
//# sourceMappingURL=3.62683a86.chunk.js.map